<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="GolfClub Auctions - The premier marketplace for buying and selling used golf clubs">
    <meta name="keywords" content="golf clubs, auction, used golf equipment, drivers, irons, putters">
    <title>GolfClub Auctions - Premier Golf Equipment Marketplace</title>

    <!-- Favicon using emoji to prevent 404 errors -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>â›³</text></svg>">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Preload module to start loading early -->
    <link rel="modulepreload" href="app.js">
    <link rel="modulepreload" href="firebase-config.js">

    <!-- Safe wrapper functions that wait for module to load -->
    <script>
        // These wrapper functions ensure onclick handlers work even if module hasn't loaded yet
        window.safeLoadPage = function(page) {
            if (window.loadPage) {
                window.loadPage(page);
            } else {
                console.warn('Module not loaded yet, waiting...');
                setTimeout(() => window.safeLoadPage(page), 100);
            }
        };

        window.safeOpenModal = function(modalId) {
            if (window.openModal) {
                window.openModal(modalId);
            } else {
                console.warn('Module not loaded yet, waiting...');
                setTimeout(() => window.safeOpenModal(modalId), 100);
            }
        };

        window.safeCloseModal = function(modalId) {
            if (window.closeModal) {
                window.closeModal(modalId);
            } else {
                console.warn('Module not loaded yet, waiting...');
                setTimeout(() => window.safeCloseModal(modalId), 100);
            }
        };
    </script>

    <style>
        /* Minimal custom styling - Bulma does the heavy lifting */
        .navbar {
            background-color: #2d5016 !important;
        }
        .hero.is-primary {
            background-color: #2d5016;
        }
        .button.is-primary {
            background-color: #4a7c25;
        }
        .button.is-primary:hover {
            background-color: #3a6120;
        }
        .footer {
            background-color: #2d5016;
        }
        .bid-price {
            color: #4a7c25;
            font-weight: bold;
            font-size: 1.25rem;
        }
        .box:hover {
            box-shadow: 0 0.5em 1em -0.125em rgba(10, 10, 10, 0.2);
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar is-dark" role="navigation" aria-label="main navigation">
        <div class="container">
            <div class="navbar-brand">
                <a class="navbar-item" href="#" onclick="safeLoadPage('home')">
                    <h1 class="title is-4 has-text-white">GolfClub Auctions</h1>
                </a>
                <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarMenu">
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                </a>
            </div>

            <div id="navbarMenu" class="navbar-menu">
                <div class="navbar-start">
                    <a class="navbar-item has-text-white" onclick="safeLoadPage('home')">
                        <i class="fas fa-home mr-2"></i> Home
                    </a>
                    <a class="navbar-item has-text-white" onclick="safeLoadPage('browse')">
                        <i class="fas fa-search mr-2"></i> Browse Auctions
                    </a>
                    <a class="navbar-item has-text-white" onclick="safeLoadPage('create')">
                        <i class="fas fa-plus-circle mr-2"></i> Create Listing
                    </a>
                </div>

                <div class="navbar-end">
                    <div class="navbar-item">
                        <div class="buttons">
                            <button class="button is-light" onclick="safeOpenModal('signinModal')">
                                <strong>Sign In</strong>
                            </button>
                            <button class="button is-primary" onclick="safeOpenModal('signupModal')">
                                <strong>Sign Up</strong>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Notification Container -->
    <div id="notification-container" style="position: fixed; top: 20px; right: 20px; z-index: 9999; max-width: 400px;"></div>

    <!-- Main Content Container -->
    <div id="main-content">
        <!-- Home page content will be loaded here by default -->
    </div>

    <!-- Sign Up Modal -->
    <div id="signupModal" class="modal">
        <div class="modal-background" onclick="safeCloseModal('signupModal')"></div>
        <div class="modal-card">
            <header class="modal-card-head">
                <p class="modal-card-title">Create Your Account</p>
                <button class="delete" aria-label="close" onclick="safeCloseModal('signupModal')"></button>
            </header>
            <form id="signupForm">
                <section class="modal-card-body">
                    <div class="field">
                        <label class="label">Full Name</label>
                        <div class="control has-icons-left">
                            <input class="input" type="text" placeholder="John Doe" required>
                            <span class="icon is-small is-left">
                                <i class="fas fa-user"></i>
                            </span>
                        </div>
                    </div>

                    <div class="field">
                        <label class="label">Email</label>
                        <div class="control has-icons-left">
                            <input class="input" type="email" placeholder="john@example.com" required>
                            <span class="icon is-small is-left">
                                <i class="fas fa-envelope"></i>
                            </span>
                        </div>
                    </div>

                    <div class="field">
                        <label class="label">Password</label>
                        <div class="control has-icons-left">
                            <input class="input" type="password" placeholder="********" required>
                            <span class="icon is-small is-left">
                                <i class="fas fa-lock"></i>
                            </span>
                        </div>
                    </div>

                    <div class="field">
                        <label class="label">Confirm Password</label>
                        <div class="control has-icons-left">
                            <input class="input" type="password" placeholder="********" required>
                            <span class="icon is-small is-left">
                                <i class="fas fa-lock"></i>
                            </span>
                        </div>
                    </div>
                </section>
                <footer class="modal-card-foot">
                    <button class="button is-primary" type="submit">Sign Up</button>
                    <button class="button" type="button" onclick="safeCloseModal('signupModal')">Cancel</button>
                </footer>
            </form>
        </div>
    </div>

    <!-- Sign In Modal -->
    <div id="signinModal" class="modal">
        <div class="modal-background" onclick="safeCloseModal('signinModal')"></div>
        <div class="modal-card">
            <header class="modal-card-head">
                <p class="modal-card-title">Sign In to Your Account</p>
                <button class="delete" aria-label="close" onclick="safeCloseModal('signinModal')"></button>
            </header>
            <form id="signinForm">
                <section class="modal-card-body">
                    <div class="field">
                        <label class="label">Email</label>
                        <div class="control has-icons-left">
                            <input class="input" type="email" placeholder="john@example.com" required>
                            <span class="icon is-small is-left">
                                <i class="fas fa-envelope"></i>
                            </span>
                        </div>
                    </div>

                    <div class="field">
                        <label class="label">Password</label>
                        <div class="control has-icons-left">
                            <input class="input" type="password" placeholder="********" required>
                            <span class="icon is-small is-left">
                                <i class="fas fa-lock"></i>
                            </span>
                        </div>
                    </div>
                </section>
                <footer class="modal-card-foot">
                    <button class="button is-primary" type="submit">Sign In</button>
                    <button class="button" type="button" onclick="safeCloseModal('signinModal')">Cancel</button>
                </footer>
            </form>
        </div>
    </div>

    <!-- JavaScript - loaded at end but preloaded in head for faster module resolution -->
    <script type="module" src="app.js"></script>
</body>
</html>